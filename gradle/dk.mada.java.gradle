apply plugin: 'java-library'

apply from: "${project.rootDir}/gradle/dk.mada.eclipse.gradle"
apply from: "${project.rootDir}/gradle/dk.mada.jacoco.gradle"
apply from: "${project.rootDir}/gradle/dk.mada.publish.gradle"

repositories {
    mavenCentral()
}

dependencies {
    api platform(project(':openapi-jaxrs-bom'))
    compileOnly platform(project(':openapi-jaxrs-bom'))
    annotationProcessor platform(project(':openapi-jaxrs-bom'))

    compileOnly 'org.jspecify:jspecify'
}

compileJava {
    options.encoding = 'UTF-8'
    options.compilerArgs << '-parameters'
}

compileTestJava {
    options.encoding = 'UTF-8'
}

// MavenCentral publishing requires both javadoc and sources
java {
    withJavadocJar()
    withSourcesJar()
}

jar {
    group = "Module generator"
    archiveBaseName = "generator"
}

sourcesJar {
    group = "Module generator"
    archiveBaseName = "generator"
}

javadocJar {
    group = "Module generator"
    archiveBaseName = "generator"
}
